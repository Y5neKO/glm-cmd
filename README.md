<p align="center">
  <a href="README_en.md">English</a> | ç®€ä½“ä¸­æ–‡
</p>

# GLM-CMD

è‡ªç„¶è¯­è¨€è½¬å‘½ä»¤å·¥å…· - ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œè‡ªåŠ¨ç”Ÿæˆ shell å‘½ä»¤

## ä¸»è¦åŠŸèƒ½

- **è‡ªç„¶è¯­è¨€è¾“å…¥** - ç”¨ä¸­æ–‡ã€è‹±æ–‡ç­‰è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œè‡ªåŠ¨ç”Ÿæˆå¯¹åº”å‘½ä»¤
- **å‘½ä»¤ç”Ÿæˆ** - å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ shell å‘½ä»¤
- **æ€è€ƒè¿‡ç¨‹å±•ç¤º** - æ˜¾ç¤ºå‘½ä»¤ç”Ÿæˆé€»è¾‘ï¼Œä¾¿äºå­¦ä¹ ç†è§£
- **è·¨å¹³å°æ”¯æŒ** - æ”¯æŒ Linuxã€macOSã€Windows
- **é…ç½®æ–‡ä»¶** - æ”¯æŒ `~/.glm-cmd/config.ini` é…ç½®
- **ä¸€é”®æ‰§è¡Œ** - ç”Ÿæˆåç¡®è®¤å³å¯æ‰§è¡Œ

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

> ğŸ’¡ **æç¤º**: è¯¦ç»†çš„ä¾èµ–å®‰è£…æŒ‡å—è¯·å‚é˜… [DEPENDENCIES.md](DEPENDENCIES.md)

**macOS:**
```bash
brew install curl cjson
```

**Ubuntu/Debian:**
```bash
sudo apt-get install build-essential libcurl4-openssl-dev libcjson-dev
```

**CentOS/RHEL:**
```bash
sudo yum groupinstall "Development Tools"
sudo yum install libcurl-devel cjson-devel
```

**Arch Linux:**
```bash
sudo pacman -S base-devel curl cjson
```

### 2. ç¼–è¯‘å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Y5neKO/glm-cmd.git
cd glm-cmd

# ç¼–è¯‘
./build.sh

# å®‰è£…ï¼ˆå¯é€‰ï¼‰
sudo make install
```

### 3. åˆå§‹åŒ–é…ç½®

```bash
# è¿è¡Œåˆå§‹åŒ–å‘å¯¼
./glm-cmd --init
```

æŒ‰æç¤ºè¾“å…¥ï¼š
1. **API Key** - ä» [æ™ºè°±AIå¼€æ”¾å¹³å°](https://bigmodel.cn) è·å–
2. **ç«¯ç‚¹é€‰æ‹©** - æ¨è Coding ç«¯ç‚¹ï¼ˆå‘½ä»¤ç”Ÿæˆä¸“ç”¨ï¼‰
3. **æ¨¡å‹åç§°** - å¦‚ `glm-4.7`ã€`glm-4-plus` ç­‰
4. **æ¸©åº¦å‚æ•°** - æ§åˆ¶éšæœºæ€§ï¼Œé»˜è®¤ 0.7
5. **æœ€å¤§ tokens** - å“åº”é•¿åº¦ï¼Œé»˜è®¤ 2048
6. **è¶…æ—¶æ—¶é—´** - è¯·æ±‚è¶…æ—¶ï¼Œé»˜è®¤ 30ç§’

### 4. ä½¿ç”¨ç¤ºä¾‹

```bash
# ä¸­æ–‡è¾“å…¥
glm-cmd "æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰å¤§äº100MBçš„æ–‡ä»¶å¹¶æŒ‰å¤§å°æ’åº"
glm-cmd "æŸ¥çœ‹å ç”¨8080ç«¯å£çš„è¿›ç¨‹"
glm-cmd "æ’¤é”€æœ€åä¸€æ¬¡æäº¤ä½†ä¿ç•™ä¿®æ”¹"

# è‹±æ–‡è¾“å…¥
glm-cmd "find all files larger than 100MB in current directory"
glm-cmd "check which process is using port 8080"
glm-cmd "undo last commit but keep changes"
```

## å·¥ä½œåŸç†

1. è¾“å…¥è‡ªç„¶è¯­è¨€éœ€æ±‚æè¿°ï¼ˆä¸­æ–‡ã€è‹±æ–‡ç­‰ï¼‰
2. æ£€æµ‹ç³»ç»Ÿä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿã€Shellã€æ¶æ„ç­‰ï¼‰
3. è°ƒç”¨æ™ºè°±AI APIç”Ÿæˆå‘½ä»¤
4. å±•ç¤ºç”Ÿæˆé€»è¾‘ï¼ˆå¯é€‰ï¼‰
5. ç¡®è®¤åæ‰§è¡Œå‘½ä»¤

## é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ä½ç½®

é»˜è®¤ä½ç½®ï¼š`~/.glm-cmd/config.ini`

è‡ªå®šä¹‰ä½ç½®ï¼š
```bash
export GLM_CMD_CONFIG="/path/to/config.ini"
```

### é…ç½®é¡¹è¯´æ˜

**å¿…éœ€é…ç½®ï¼š**

```ini
# APIå¯†é’¥ï¼ˆä» https://bigmodel.cn è·å–ï¼‰
api_key="your_api_key_here"

# APIç«¯ç‚¹ï¼ˆå¿…é¡»é…ç½®ï¼‰
# æ¨èä½¿ç”¨Codingç«¯ç‚¹ï¼ˆä¸“é—¨ç”¨äºå‘½ä»¤ç”Ÿæˆï¼‰
endpoint="https://open.bigmodel.cn/api/coding/paas/v4"
```

**å¯é€‰é…ç½®ï¼š**

```ini
# æ¨¡å‹åç§°ï¼ˆè‡ªç”±è¾“å…¥ï¼‰
model="glm-4.7"           # æ ‡å‡†æ¨¡å‹
# model="glm-4-plus"      # å¢å¼ºæ¨¡å‹
# model="glm-4-flash"     # å¿«é€Ÿæ¨¡å‹
# model="glm-4-air"       # è½»é‡çº§æ¨¡å‹

# æ¸©åº¦å‚æ•°ï¼ˆ0.0-2.0ï¼Œé»˜è®¤0.7ï¼‰
temperature=0.7

# æœ€å¤§tokenæ•°ï¼ˆé»˜è®¤2048ï¼‰
max_tokens=2048

# è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼Œé»˜è®¤30ï¼‰
timeout=30
```

**æç¤º**ï¼šä½¿ç”¨ `--verbose` æˆ– `-V` å‚æ•°å¯ç”¨è¯¦ç»†è¾“å‡ºã€‚

### ç«¯ç‚¹é€‰æ‹©è¯´æ˜

**1. Codingç«¯ç‚¹ï¼ˆæ¨èï¼‰ï¼š**
```
https://open.bigmodel.cn/api/coding/paas/v4
```
- ä¸“ç”¨äºå‘½ä»¤ç”Ÿæˆå’Œä»£ç æ¨è
- é€‚åˆå¼€å‘ã€è¿ç»´åœºæ™¯
- å‘½ä»¤å‡†ç¡®ç‡æ›´é«˜

**2. æ ‡å‡†ç«¯ç‚¹ï¼š**
```
https://open.bigmodel.cn/api/paas/v4
```
- é€šç”¨è‡ªç„¶è¯­è¨€ä»»åŠ¡
- æ–‡æœ¬å¤„ç†å’Œåˆ†æ

## ä½¿ç”¨ç¤ºä¾‹

### æ–‡ä»¶æ“ä½œ

```bash
# æŸ¥æ‰¾å¤§æ–‡ä»¶
glm-cmd "æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰å¤§äº100MBçš„æ–‡ä»¶"

# æ‰¹é‡é‡å‘½å
glm-cmd "å°†æ‰€æœ‰JPGæ–‡ä»¶é‡å‘½åä¸ºå°å†™"

# åˆå¹¶æ–‡ä»¶
glm-cmd "åˆå¹¶æ‰€æœ‰txtæ–‡ä»¶åˆ°ä¸€ä¸ªæ–‡ä»¶"
```

### è¿›ç¨‹ç®¡ç†

```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
glm-cmd "æŸ¥çœ‹å ç”¨8080ç«¯å£çš„è¿›ç¨‹"

# æ€æ­»è¿›ç¨‹
glm-cmd "æ€æ­»æ‰€æœ‰åä¸ºpythonçš„è¿›ç¨‹"

# æŸ¥çœ‹è¿›ç¨‹èµ„æºå ç”¨
glm-cmd "æŒ‰å†…å­˜ä½¿ç”¨ç‡æ’åºæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹"
```

### ç³»ç»Ÿç»´æŠ¤

```bash
# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
glm-cmd "æ¸…ç†7å¤©å‰çš„ä¸´æ—¶æ–‡ä»¶"

# ç£ç›˜ç©ºé—´æ£€æŸ¥
glm-cmd "æ˜¾ç¤ºå„ä¸ªç›®å½•çš„ç£ç›˜å ç”¨æƒ…å†µ"

# ç½‘ç»œæµ‹è¯•
glm-cmd "æµ‹è¯•åˆ°baidu.comçš„è¿é€šæ€§"
```

### Gitæ“ä½œ

```bash
# æ’¤é”€æäº¤
glm-cmd "æ’¤é”€æœ€åä¸€æ¬¡æäº¤ä½†ä¿ç•™ä¿®æ”¹"

# æŸ¥çœ‹å†å²
glm-cmd "æŸ¥çœ‹æœ€è¿‘3æ¬¡æäº¤çš„è¯¦ç»†ä¿¡æ¯"

# åˆ†æ”¯ç®¡ç†
glm-cmd "åˆ é™¤æ‰€æœ‰å·²åˆå¹¶çš„æœ¬åœ°åˆ†æ”¯"
```

## é«˜çº§åŠŸèƒ½

### æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯

```bash
glm-cmd --info
```

æ˜¾ç¤ºå†…å®¹ï¼š
- æ“ä½œç³»ç»Ÿä¿¡æ¯
- Shellç±»å‹å’Œç‰ˆæœ¬
- å½“å‰é…ç½®å‚æ•°
- API Keyï¼ˆéƒ¨åˆ†éšè—ï¼‰

### è¯¦ç»†è¾“å‡ºæ¨¡å¼

```bash
glm-cmd -V "æŸ¥æ‰¾å¤§æ–‡ä»¶"
```

æ˜¾ç¤ºè¯¦ç»†çš„APIè¯·æ±‚å’Œå“åº”ä¿¡æ¯ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚

### ç¯å¢ƒå˜é‡è¦†ç›–

é…ç½®æ–‡ä»¶å¯ä»¥è¢«ç¯å¢ƒå˜é‡è¦†ç›–ï¼š

```bash
# ä¸´æ—¶ä½¿ç”¨ä¸åŒæ¨¡å‹
export GLM_CMD_MODEL="glm-4-plus"
glm-cmd "æŸ¥æ‰¾å¤§æ–‡ä»¶"

# ä¸´æ—¶ä½¿ç”¨ä¸åŒç«¯ç‚¹
export GLM_CMD_ENDPOINT="https://open.bigmodel.cn/api/paas/v4"
glm-cmd "ç¿»è¯‘è¿™æ®µæ–‡å­—"
```

## æ¨¡å‹é€‰æ‹©å»ºè®®

| æ¨¡å‹ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **glm-4.7** | æ ‡å‡†æ¨¡å‹ï¼Œæ€§èƒ½å‡è¡¡ | æ—¥å¸¸ä½¿ç”¨ |
| **glm-4-plus** | èƒ½åŠ›æ›´å¼º | å¤æ‚å‘½ä»¤ |
| **glm-4-flash** | å“åº”å¿«é€Ÿ | ç®€å•å‘½ä»¤ |
| **glm-4-air** | è½»é‡çº§ | èµ„æºå—é™ç¯å¢ƒ |

## å‘½ä»¤è¡Œå‚æ•°

```bash
glm-cmd [OPTIONS] "query"

Options:
  -h, --help      æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  -v, --version   æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
  -V, --verbose   å¯ç”¨è¯¦ç»†è¾“å‡º
  --info          æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯
  --init          è¿è¡Œåˆå§‹åŒ–å‘å¯¼
  -I              åŒ --init
```

## æ•…éšœæ’é™¤

### é—®é¢˜ï¼šAPI Keyæœªé…ç½®

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Error: API Key not configured
```

**è§£å†³æ–¹æ³•ï¼š**
```bash
# æ–¹å¼1ï¼šè¿è¡Œåˆå§‹åŒ–å‘å¯¼
glm-cmd --init

# æ–¹å¼2ï¼šæ‰‹åŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶
mkdir -p ~/.glm-cmd
cat > ~/.glm-cmd/config.ini << EOF
api_key="your_api_key_here"
endpoint="https://open.bigmodel.cn/api/coding/paas/v4"
EOF
```

### é—®é¢˜ï¼šé…ç½®æ–‡ä»¶æœªç”Ÿæ•ˆ

**æ£€æŸ¥æ–¹æ³•ï¼š**
```bash
# æŸ¥çœ‹é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la ~/.glm-cmd/config.ini

# æŸ¥çœ‹å½“å‰é…ç½®
glm-cmd --info
```

**è§£å†³æ–¹æ³•ï¼š**
```bash
# ç¡®ä¿æ–‡ä»¶æƒé™æ­£ç¡®
chmod 600 ~/.glm-cmd/config.ini

# æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼
cat ~/.glm-cmd/config.ini
```

### é—®é¢˜ï¼šç¼–è¯‘é”™è¯¯

**é”™è¯¯ï¼šæ‰¾ä¸åˆ° libcurl**

**è§£å†³æ–¹æ³•ï¼š**
```bash
# macOS
brew install curl

# Ubuntu/Debian
sudo apt-get install libcurl4-openssl-dev

# CentOS/RHEL
sudo yum install libcurl-devel
```

### é—®é¢˜ï¼šå‘½ä»¤ç”Ÿæˆå¤±è´¥

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. éªŒè¯API Keyæ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. ç¡®è®¤ç«¯ç‚¹é…ç½®æ­£ç¡®
4. å¯ç”¨è¯¦ç»†æ¨¡å¼æŸ¥çœ‹æ—¥å¿—

```bash
glm-cmd -V "æµ‹è¯•"
```

## å¸¸ç”¨åœºæ™¯é€ŸæŸ¥

| éœ€æ±‚ | å‘½ä»¤ç¤ºä¾‹ |
|------|----------|
| æŸ¥æ‰¾å¤§æ–‡ä»¶ | `glm-cmd "æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰å¤§äº100MBçš„æ–‡ä»¶"` |
| ç«¯å£æŸ¥çœ‹ | `glm-cmd "æŸ¥çœ‹å ç”¨8080ç«¯å£çš„è¿›ç¨‹"` |
| æ‰¹é‡é‡å‘½å | `glm-cmd "å°†æ‰€æœ‰æ–‡ä»¶åæ”¹ä¸ºå°å†™"` |
| æ–‡ä»¶åˆå¹¶ | `glm-cmd "åˆå¹¶æ‰€æœ‰txtæ–‡ä»¶åˆ°ä¸€ä¸ªæ–‡ä»¶"` |
| è¿›ç¨‹æ€é™¤ | `glm-cmd "æ€æ­»æ‰€æœ‰åä¸ºpythonçš„è¿›ç¨‹"` |
| ç£ç›˜æ¸…ç† | `glm-cmd "æ¸…ç†7å¤©å‰çš„ä¸´æ—¶æ–‡ä»¶"` |
| æƒé™ä¿®æ”¹ | `glm-cmd "é€’å½’è®¾ç½®å½“å‰ç›®å½•æƒé™ä¸º755"` |
| ç½‘ç»œæµ‹è¯• | `glm-cmd "æµ‹è¯•åˆ°baidu.comçš„è¿é€šæ€§"` |
| Gitæ“ä½œ | `glm-cmd "æ’¤é”€æœ€åä¸€æ¬¡æäº¤ä½†ä¿ç•™ä¿®æ”¹"` |
| æ—¥å¿—æŸ¥çœ‹ | `glm-cmd "æŸ¥çœ‹æœ€å100è¡Œé”™è¯¯æ—¥å¿—"` |

## å®‰å…¨å»ºè®®

1. **ä¿æŠ¤API Key**
   ```bash
   # è®¾ç½®é…ç½®æ–‡ä»¶æƒé™ä¸ºä»…ç”¨æˆ·å¯è¯»å†™
   chmod 600 ~/.glm-cmd/config.ini
   ```

2. **é¿å…æäº¤é…ç½®æ–‡ä»¶**
   ```bash
   # æ·»åŠ åˆ° .gitignore
   echo ".glm-cmd/" >> .gitignore
   echo "config.ini" >> .gitignore
   ```

3. **å®šæœŸæ›´æ¢API Key**
   - å»ºè®®æ¯3-6ä¸ªæœˆæ›´æ¢ä¸€æ¬¡
   - å¦‚æœ‰æ³„éœ²å«Œç–‘ç«‹å³æ›´æ¢

4. **è°¨æ…æ‰§è¡Œå‘½ä»¤**
   - ç”Ÿæˆåå…ˆæŸ¥çœ‹å‘½ä»¤å†…å®¹
   - ç¡®è®¤æ— è¯¯å†æ‰§è¡Œ
   - ç‰¹åˆ«æ˜¯åˆ é™¤ã€ä¿®æ”¹ç­‰å±é™©æ“ä½œ

## é…ç½®ç¤ºä¾‹

### åŸºç¡€é…ç½®

**~/.glm-cmd/config.ini**
```ini
api_key="your_api_key_here"
endpoint="https://open.bigmodel.cn/api/coding/paas/v4"
```

### å®Œæ•´é…ç½®

```ini
api_key="sk.your_actual_api_key_here"
endpoint="https://open.bigmodel.cn/api/coding/paas/v4"
model="glm-4.7"
temperature=0.7
max_tokens=2048
timeout=30
```

### é«˜æ€§èƒ½é…ç½®

```ini
api_key="sk.your_actual_api_key_here"
endpoint="https://open.bigmodel.cn/api/coding/paas/v4"
model="glm-4-plus"
temperature=0.5
max_tokens=4096
timeout=60
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

[MIT License](LICENSE)

## ç›¸å…³é“¾æ¥

- [æ™ºè°±AIå¼€æ”¾å¹³å°](https://bigmodel.cn)
- [æ™ºè°±AI APIæ–‡æ¡£](https://open.bigmodel.cn/dev/api)
- [é¡¹ç›®ä»“åº“](https://github.com/Y5neKO/glm-cmd)
